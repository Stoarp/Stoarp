<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:Stoarp.ViewModels"
             x:Class="Stoarp.Views.RegisterView"
             x:DataType="vm:RegisterViewModel">

    <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
        <Border Background="{StaticResource BackgroundMediumBrush}"
                CornerRadius="{StaticResource RadiusLg}"
                Padding="48,40"
                MinWidth="400"
                BoxShadow="0 8 32 0 #40000000">
            <StackPanel Spacing="24">
                <!-- Branding -->
                <StackPanel Spacing="8" HorizontalAlignment="Center">
                    <Image Source="avares://Stoarp/Assets/desktop/Stoarp-Icon-TP.png"
                           Width="160"
                           Height="160" />
                    <TextBlock Text="Create Account"
                               FontSize="{StaticResource FontSizeBody}"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               HorizontalAlignment="Center" />
                </StackPanel>

                <!-- Form -->
                <StackPanel Spacing="16">
                    <StackPanel Spacing="6">
                        <TextBlock Text="Email"
                                   FontSize="{StaticResource FontSizeCaption}"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   FontWeight="SemiBold" />
                        <TextBox Text="{CompiledBinding Email, Mode=TwoWay}"
                                 Watermark="you@example.com" />
                    </StackPanel>

                    <StackPanel Spacing="6">
                        <TextBlock Text="Password"
                                   FontSize="{StaticResource FontSizeCaption}"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   FontWeight="SemiBold" />
                        <TextBox Text="{CompiledBinding Password, Mode=TwoWay}"
                                 PasswordChar="&#x2022;"
                                 Watermark="Create a password" />
                    </StackPanel>

                    <StackPanel Spacing="6">
                        <TextBlock Text="Confirm Password"
                                   FontSize="{StaticResource FontSizeCaption}"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   FontWeight="SemiBold" />
                        <TextBox Text="{CompiledBinding ConfirmPassword, Mode=TwoWay}"
                                 PasswordChar="&#x2022;"
                                 Watermark="Confirm your password" />
                    </StackPanel>

                </StackPanel>

                <!-- Error -->
                <TextBlock Text="{CompiledBinding ErrorMessage}"
                           Foreground="{StaticResource ErrorBrush}"
                           FontSize="{StaticResource FontSizeCaption}"
                           IsVisible="{CompiledBinding ErrorMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                           TextWrapping="Wrap" />

                <!-- Success -->
                <TextBlock Text="{CompiledBinding SuccessMessage}"
                           Foreground="{StaticResource OceanPrimaryBrush}"
                           FontSize="{StaticResource FontSizeCaption}"
                           IsVisible="{CompiledBinding SuccessMessage, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"
                           TextWrapping="Wrap" />

                <!-- Register Button -->
                <Button Content="Create Account"
                        Command="{CompiledBinding RegisterCommand}"
                        HorizontalAlignment="Stretch" />

                <!-- Back to Login -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="4">
                    <TextBlock Text="Already have an account?"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               FontSize="{StaticResource FontSizeCaption}" />
                    <Button Content="Sign In"
                            Command="{CompiledBinding BackToLoginCommand}"
                            Theme="{StaticResource LinkButton}" />
                </StackPanel>

                <!-- Loading indicator -->
                <ProgressBar IsIndeterminate="True"
                             IsVisible="{CompiledBinding IsRegistering}"
                             Height="2"
                             Foreground="{StaticResource OceanPrimaryBrush}"
                             Background="{StaticResource SurfaceBrush}" />
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
